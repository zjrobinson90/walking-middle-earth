<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Middle-earth Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        #map {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Initialize the map centered on [256, 256] with zoom level 0
        var map = L.map('map').setView([256, -256], 0);
        
        // Define the tile layer with noWrap to prevent out-of-bounds requests
        var tileLayer = L.tileLayer('/walking-middle-earth/tiles/{z}/{x}/{y}.jpg', {
            minZoom: 0,                // Start at zoom level 0
            maxZoom: 3,                // End at zoom level 3
            noWrap: true,              // Prevents loading tiles from outside bounds
            attribution: 'Map data &copy; <a href="http://lotrproject.com/">LOTR Project</a>'
        }).addTo(map);

        // Optionally set max bounds based on tile size (for a 512x512 map)
        var southWest = map.unproject([0, 512], map.getMinZoom());
        var northEast = map.unproject([512, 0], map.getMinZoom());
        var bounds = new L.LatLngBounds(southWest, northEast);
        map.setMaxBounds(bounds);
    </script>
</body>
</html>
